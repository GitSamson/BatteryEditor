<html>

<style>
    .border {
        border-style: solid;
        border-color: black;

    }
</style>

<body style="margin:0;padding:0">
    <div id='bar'>
        <input type="file" id="files" />
        <input type="button" id="export" value="保存" />
        
    </div>
    <canvas id="MyCanvas" stroke='black'>
    </canvas>
    <textarea id = 'sss' rows = '10' style = 'position: absolute; left: 800;' ></textarea>
</body>
<script src="./V_CanvStyle.js"></script>
<script src="./V_CanvDraw.js"></script>
<script src="./Graphic_Cal.js"></script>
<script src="./M_Battery.js"></script>
<script src="./Handler_text.js"></script>
<script src='./M_Node.js'></script>
<script src="./M_Layer.js"></script>
<script src="./M_Link.js"></script>
<script src="./M_Graphic.js"></script>
<script src="./M_Overall.js"></script>
<script src="./Board_event.js"></script>
<script src="./V_Draw.js"></script>
<script src="./C_EventHandler.js"></script>
<script src="./C_Event.js"></script>
<script src='./Controller.js'></script>
<script src="./C_History.js"></script>
<script src='./Save.js'></script>
<script src="https://cdn.bootcss.com/FileSaver.js/2014-11-29/FileSaver.js"></script>
<script src='./C_EventHandler_Key.js'></script>


<script>
    var body = document.querySelector('body');

    // Initialization
    var Canvas = document.getElementById('MyCanvas');
    var magnetDistance = 100;
    var Bar = document.getElementById('bar');


    var CanvQualityEnhanceVector = 1.5;
    var frame = document.getElementById('Canvframe');
    Canvas.style.position = 'absolute';
    Bar.style.position = 'absolute';
    window.addEventListener("resize", resizeCanvas, false);
    resizeCanvas()

    function resizeCanvas() {
        Canvas.style.width = (window.innerWidth + 'px');
        Canvas.style.heigh = (window.innerHeight - 22 + 'px');
        w = Canvas.width = window.innerWidth * CanvQualityEnhanceVector;
        h = Canvas.height = (window.innerHeight - 22) * CanvQualityEnhanceVector;
        Bar.style.top = (window.innerHeight - 22 + 'px')
    }

    d = Canvas.getContext('2d');


    //======================================================================================

    _ResourceManager = new ResourceManager;
    var a  =  new eBattery(1,2); 
    // _ResourceManager.push(new eBattery(10, 30, 30, 100, '0'));
    // _ResourceManager.push(new eBattery(50, 50, 100, 100, '1'));
    // _ResourceManager.push(new eBattery(200, 300, 50, 50, '2'));
    // _ResourceManager.push(new eBattery(500, 600, 200, 200, '3aaaaa\naaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'));

    var selectBox = null;
    var Board = new Canv(d, _ResourceManager);
    Board.redraw();
    var _History = new history();
    _History.record();
    var _EventListener = new EventHandler(Canvas);
    Text2Diagram();

</script>

</html>